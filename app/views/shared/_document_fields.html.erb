<div class="document nested-fields">
  <div class='row'>    
    <%= f.association :document_type, collection: DocumentType.order(:name), wrapper_html: { class: 'col-md-3' }  %>

    <%= f.hidden_field :attachment, value: f.object.attachment.signed_id if f.object.attachment.attached? %>
    <%= f.input :attachment, input_html: {
      direct_upload: true, class: 'fileinput', data: { 
        file: (rails_blob_url(f.object.attachment) if f.object.attachment.attached?)
      }
    } %> 

    <div class="col-md-2">
      <%= link_to_remove_association f, class: 'btn btn-danger top-32' do %>
        <i class="fa fa-fw fa-times"></i>
      <% end %>
    </div>
  </div>
</div>